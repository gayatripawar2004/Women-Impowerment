<%- include("navbar.ejs") %>

<div class="container-fluid bg-white m-4 p-5 rounded shadow-sm">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-danger fw-bold">Contact Messages</h2>
    </div>

    <table class="table table-bordered table-hover align-middle">
        <thead class="table-light">
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>Subject</th>
                <th>Message</th>
                <th>Action</th>
            </tr>
        </thead>

        <tbody>
        <% if(message_list.length > 0){ %>
            <% message_list.forEach(function(val, index){ %>
            <tr>
                <td><%= index + 1 %></td>
                <td><%= val.name %></td>
                <td><%= val.email %></td>
                <td><%= val.mobile %></td>
                <td><%= val.subject %></td>
                <td><%= val.message%></td>

                <td class="text-center">
                    <a href="/admin/message_delete/<%= val.message_id %>" 
                       onclick="return confirm('Are you sure?')"
                       class="btn btn-danger btn-sm">
                        <i class="fa-solid fa-trash"></i>
                    </a>
                </td>
            </tr>
            <% }) %>
        <% } else { %>
            <tr>
                <td colspan="7" class="text-center text-muted">
                    No messages found
                </td>
            </tr>
        <% } %>
        </tbody>
    </table>

</div>

<%- include("footer.ejs") %>
